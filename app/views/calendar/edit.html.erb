<!-- app/views/calendar/edit.html.erb -->
<div class="app-container">
  <%= render 'shared/navbar' %>

  <main class="main-content">
    <div class="page">
      <div class="page-header">
        <h1 class="page-title">Edit Event</h1>
        <p class="page-subtitle">Update your Google Calendar event</p>
      </div>

      <div class="content-area">
        <%= form_with url: "/api/calendar_events/#{@event[:id]}", method: :patch, local: true do |f| %>
          <div>
            <%= f.label :summary, "Title" %><br>
            <%= f.text_field :summary, value: @event[:summary] %>
          </div>
          <div>
            <%= f.label :description %><br>
            <%= f.text_area :description, rows: 2, value: @event[:description] %>
          </div>
          <div>
            <%= f.label :location %><br>
            <%= f.text_field :location, value: @event[:location] %>
          </div>
          <div>
            <%= f.label :all_day, "All Day?" %>
            <%= f.check_box :all_day, { checked: @event[:is_all_day] }, "true", "false" %>
          </div>
          <div>
            <%= f.label :start_time, "Start" %><br>
            <%= f.datetime_field :start_time, value: (@event[:start] unless @event[:is_all_day]) %>
          </div>
          <div>
            <%= f.label :end_time, "End" %><br>
            <%= f.datetime_field :end_time, value: (@event[:end] unless @event[:is_all_day]) %>
          </div>
          <%= f.submit "Update Event" %>
        <% end %>

        <%= link_to "Back to Calendar", calendar_path %>
      </div>
    </div>
  </main>
</div>
