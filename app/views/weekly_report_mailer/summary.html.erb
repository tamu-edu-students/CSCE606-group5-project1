<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; }
      .container { max-width: 600px; margin: 0 auto; padding: 20px; }
      .header { background-color: #f8f9fa; padding: 20px; text-align: center; border-radius: 5px; }
      .stats { margin: 20px 0; }
      .stat-item { margin: 10px 0; padding: 10px; background-color: #e9ecef; border-radius: 3px; }
      .highlight { background-color: #d4edda; border: 1px solid #c3e6cb; padding: 15px; margin: 20px 0; border-radius: 5px; }
      .cta { text-align: center; margin: 30px 0; }
      .cta a { background-color: #007bff; color: white; padding: 10px 20px; text-decoration: none; border-radius: 5px; }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="header">
        <h1>Weekly LeetCode Progress Summary</h1>
        <p>Hello <%= @user.first_name %>,</p>
      </div>

      <div class="stats">
        <h2>Your Progress This Week</h2>
        <div class="stat-item">
          <strong>Problems Solved This Week:</strong> <%= @stats[:weekly_solved_count] %>
        </div>
        <div class="stat-item">
          <strong>Current Streak:</strong> <%= @stats[:current_streak_days] %> days
        </div>
        <div class="stat-item">
          <strong>Total Problems Solved:</strong> <%= @stats[:total_solved_all_time] %>
        </div>
      </div>

      <% if @stats[:highlight].present? %>
        <div class="highlight">
          <h3>Highlights</h3>
          <p><%= @stats[:highlight] %></p>
        </div>
      <% end %>

      <div class="cta">
        <a href="#">Open my dashboard</a>
      </div>

      <p>Keep up the great work!</p>
      <p>Best,<br>The LeetCode Team</p>
    </div>
  </body>
</html>